<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语习集 - 学习记录</title>
    <script src="https://unpkg.byted-static.com/coze/space_ppt_lib/1.0.3-alpha.12/lib/tailwindcss.js"></script>
    <script src="https://unpkg.byted-static.com/fortawesome/fontawesome-free/6.7.2/js/all.min.js" data-auto-replace-svg="nest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#7c3aed',
                        tertiary: '#059669',
                        success: '#10b981',
                        danger: '#ef4444',
                        info: '#3b82f6',
                        'text-primary': '#1f2937',
                        'text-secondary': '#6b7280',
                        'bg-card': '#ffffff',
                        'bg-secondary': '#f8fafc',
                        'border-light': '#e5e7eb'
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif']
                    },
                    boxShadow: {
                        'card': '0 2px 8px rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 4px 16px rgba(0, 0, 0, 0.1)'
                    },
                    borderRadius: {
                        'card': '16px'
                    }
                }
            }
        }
    </script>
    <style>
        .safe-top {
            padding-top: env(safe-area-inset-top);
        }
        .safe-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #2563eb 0%, #7c3aed 100%);
            border-radius: 4px;
            height: 8px;
            transition: width 0.3s ease;
        }
        
        .mastery-badge-mastered {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        
        .mastery-badge-learning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        .chart-bar {
            background: linear-gradient(180deg, #2563eb 0%, #3b82f6 100%);
            border-radius: 4px 4px 0 0;
            transition: height 0.5s ease;
        }
        
        .filter-dropdown {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .filter-dropdown.show {
            max-height: 300px;
        }
    </style>
</head>
<body class="bg-bg-secondary font-sans">
    <!-- 状态栏 -->
    <div id="status-bar" class="bg-white safe-top">
        <div class="flex justify-between items-center px-6 py-2 text-sm font-medium text-gray-900">
            <span>9:41</span>
            <div class="flex items-center space-x-1">
                <i class="fas fa-signal text-xs"></i>
                <i class="fas fa-wifi text-xs"></i>
                <i class="fas fa-battery-three-quarters text-xs"></i>
            </div>
        </div>
    </div>

    <!-- 主要内容区域 -->
    <div id="main-content" class="pb-20">
        <!-- 顶部导航栏 -->
        <header id="top-header" class="bg-white px-6 py-4 shadow-sm">
            <div id="header-content" class="flex items-center justify-between">
                <!-- 返回按钮和标题 -->
                <div id="header-left" class="flex items-center">
                    <button id="back-btn" class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center mr-3">
                        <i class="fas fa-arrow-left text-gray-600 text-sm"></i>
                    </button>
                    <h1 id="page-title" class="text-lg font-semibold text-text-primary">学习记录</h1>
                </div>
                
                <!-- 筛选按钮 -->
                <button id="filter-btn" class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center">
                    <i class="fas fa-filter text-gray-600 text-sm"></i>
                </button>
            </div>
            
            <!-- 筛选下拉菜单 -->
            <div id="filter-dropdown" class="filter-dropdown mt-4 bg-white border border-border-light rounded-card p-4">
                <div id="filter-content" class="space-y-4">
                    <!-- 学习时间筛选 -->
                    <div id="time-filter" class="space-y-2">
                        <label class="text-sm font-medium text-text-primary">学习时间</label>
                        <div class="flex flex-wrap gap-2">
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="time" data-value="all">全部</button>
                            <button class="filter-option px-3 py-1 bg-primary text-white text-sm rounded-full" data-filter="time" data-value="today">今天</button>
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="time" data-value="week">本周</button>
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="time" data-value="month">本月</button>
                        </div>
                    </div>
                    
                    <!-- 场景筛选 -->
                    <div id="scene-filter" class="space-y-2">
                        <label class="text-sm font-medium text-text-primary">学习场景</label>
                        <div class="flex flex-wrap gap-2">
                            <button class="filter-option px-3 py-1 bg-primary text-white text-sm rounded-full" data-filter="scene" data-value="all">全部</button>
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="scene" data-value="daily">日常问候</button>
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="scene" data-value="shopping">购物消费</button>
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="scene" data-value="restaurant">餐饮服务</button>
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="scene" data-value="travel">旅行出行</button>
                        </div>
                    </div>
                    
                    <!-- 掌握状态筛选 -->
                    <div id="mastery-filter" class="space-y-2">
                        <label class="text-sm font-medium text-text-primary">掌握状态</label>
                        <div class="flex flex-wrap gap-2">
                            <button class="filter-option px-3 py-1 bg-primary text-white text-sm rounded-full" data-filter="mastery" data-value="all">全部</button>
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="mastery" data-value="mastered">已掌握</button>
                            <button class="filter-option px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full" data-filter="mastery" data-value="learning">学习中</button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- 学习数据统计 -->
        <section id="learning-stats" class="mx-6 mt-6">
            <div id="stats-card" class="bg-white rounded-card shadow-card p-6">
                <h2 id="stats-title" class="text-lg font-semibold text-text-primary mb-6">学习概览</h2>
                
                <div id="stats-grid" class="grid grid-cols-2 gap-4 mb-6">
                    <div id="stat-total" class="text-center">
                        <div class="text-2xl font-bold text-primary mb-1">48</div>
                        <div class="text-sm text-text-secondary">已学短语</div>
                    </div>
                    <div id="stat-mastered" class="text-center">
                        <div class="text-2xl font-bold text-success mb-1">36</div>
                        <div class="text-sm text-text-secondary">已掌握</div>
                    </div>
                    <div id="stat-accuracy" class="text-center">
                        <div class="text-2xl font-bold text-tertiary mb-1">85%</div>
                        <div class="text-sm text-text-secondary">平均正确率</div>
                    </div>
                    <div id="stat-time" class="text-center">
                        <div class="text-2xl font-bold text-secondary mb-1">12.5h</div>
                        <div class="text-sm text-text-secondary">总学习时长</div>
                    </div>
                </div>
                
                <!-- 掌握率进度条 -->
                <div id="mastery-progress" class="space-y-2">
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-text-secondary">掌握率</span>
                        <span class="text-sm font-semibold text-text-primary">75%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="progress-bar w-3/4 h-2"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 学习趋势图表 -->
        <section id="learning-trends" class="mx-6 mt-4">
            <div id="trends-card" class="bg-white rounded-card shadow-card p-6">
                <h2 id="trends-title" class="text-lg font-semibold text-text-primary mb-4">本周学习趋势</h2>
                
                <div id="chart-container" class="flex items-end justify-between h-32 mb-4">
                    <div class="flex flex-col items-center">
                        <div class="chart-bar w-8 mb-2" style="height: 40%"></div>
                        <span class="text-xs text-text-secondary">周一</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="chart-bar w-8 mb-2" style="height: 60%"></div>
                        <span class="text-xs text-text-secondary">周二</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="chart-bar w-8 mb-2" style="height: 30%"></div>
                        <span class="text-xs text-text-secondary">周三</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="chart-bar w-8 mb-2" style="height: 80%"></div>
                        <span class="text-xs text-text-secondary">周四</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="chart-bar w-8 mb-2" style="height: 50%"></div>
                        <span class="text-xs text-text-secondary">周五</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="chart-bar w-8 mb-2" style="height: 70%"></div>
                        <span class="text-xs text-text-secondary">周六</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="chart-bar w-8 mb-2" style="height: 90%"></div>
                        <span class="text-xs text-text-secondary">周日</span>
                    </div>
                </div>
                
                <div id="trends-summary" class="text-center">
                    <p class="text-sm text-text-secondary">本周平均每日学习 <span class="font-semibold text-primary">3.2</span> 个短语</p>
                </div>
            </div>
        </section>

        <!-- 已学短语列表 -->
        <section id="learned-phrases" class="mx-6 mt-6 mb-6">
            <div id="phrases-header" class="flex items-center justify-between mb-4">
                <h2 id="phrases-title" class="text-lg font-semibold text-text-primary">已学短语</h2>
                <span id="phrases-count" class="text-sm text-text-secondary">共48个</span>
            </div>
            
            <div id="phrases-list" class="space-y-3">
                <!-- 短语列表项1 -->
                <div id="phrase-item-1" class="bg-white rounded-card shadow-card p-4 card-hover" data-phrase-id="phrase_001">
                    <div id="phrase-content-1" class="flex items-center justify-between">
                        <div id="phrase-info-1" class="flex-1">
                            <div class="flex items-center justify-between mb-2">
                                <h3 id="phrase-text-1" class="text-base font-semibold text-text-primary">Could you please...</h3>
                                <span class="mastery-badge-mastered text-white text-xs px-2 py-1 rounded-full">已掌握</span>
                            </div>
                            <p id="phrase-meaning-1" class="text-sm text-text-secondary mb-2">请问你可以...吗？</p>
                            <div class="flex items-center justify-between">
                                <div id="phrase-tags-1" class="flex items-center space-x-2">
                                    <span class="px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded-full">日常用语</span>
                                    <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">入门</span>
                                </div>
                                <span id="phrase-date-1" class="text-xs text-text-secondary">2024-01-15</span>
                            </div>
                        </div>
                        <button id="review-btn-1" class="w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center ml-3">
                            <i class="fas fa-redo text-gray-600 text-xs"></i>
                        </button>
                    </div>
                </div>

                <!-- 短语列表项2 -->
                <div id="phrase-item-2" class="bg-white rounded-card shadow-card p-4 card-hover" data-phrase-id="phrase_002">
                    <div id="phrase-content-2" class="flex items-center justify-between">
                        <div id="phrase-info-2" class="flex-1">
                            <div class="flex items-center justify-between mb-2">
                                <h3 id="phrase-text-2" class="text-base font-semibold text-text-primary">I'm looking for...</h3>
                                <span class="mastery-badge-learning text-white text-xs px-2 py-1 rounded-full">学习中</span>
                            </div>
                            <p id="phrase-meaning-2" class="text-sm text-text-secondary mb-2">我在找...</p>
                            <div class="flex items-center justify-between">
                                <div id="phrase-tags-2" class="flex items-center space-x-2">
                                    <span class="px-2 py-1 bg-purple-50 text-purple-600 text-xs rounded-full">购物</span>
                                    <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">入门</span>
                                </div>
                                <span id="phrase-date-2" class="text-xs text-text-secondary">2024-01-15</span>
                            </div>
                        </div>
                        <button id="review-btn-2" class="w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center ml-3">
                            <i class="fas fa-redo text-gray-600 text-xs"></i>
                        </button>
                    </div>
                </div>

                <!-- 短语列表项3 -->
                <div id="phrase-item-3" class="bg-white rounded-card shadow-card p-4 card-hover" data-phrase-id="phrase_003">
                    <div id="phrase-content-3" class="flex items-center justify-between">
                        <div id="phrase-info-3" class="flex-1">
                            <div class="flex items-center justify-between mb-2">
                                <h3 id="phrase-text-3" class="text-base font-semibold text-text-primary">How much is this?</h3>
                                <span class="mastery-badge-mastered text-white text-xs px-2 py-1 rounded-full">已掌握</span>
                            </div>
                            <p id="phrase-meaning-3" class="text-sm text-text-secondary mb-2">这个多少钱？</p>
                            <div class="flex items-center justify-between">
                                <div id="phrase-tags-3" class="flex items-center space-x-2">
                                    <span class="px-2 py-1 bg-purple-50 text-purple-600 text-xs rounded-full">购物</span>
                                    <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">入门</span>
                                </div>
                                <span id="phrase-date-3" class="text-xs text-text-secondary">2024-01-14</span>
                            </div>
                        </div>
                        <button id="review-btn-3" class="w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center ml-3">
                            <i class="fas fa-redo text-gray-600 text-xs"></i>
                        </button>
                    </div>
                </div>

                <!-- 短语列表项4 -->
                <div id="phrase-item-4" class="bg-white rounded-card shadow-card p-4 card-hover" data-phrase-id="phrase_004">
                    <div id="phrase-content-4" class="flex items-center justify-between">
                        <div id="phrase-info-4" class="flex-1">
                            <div class="flex items-center justify-between mb-2">
                                <h3 id="phrase-text-4" class="text-base font-semibold text-text-primary">Can I have the bill?</h3>
                                <span class="mastery-badge-mastered text-white text-xs px-2 py-1 rounded-full">已掌握</span>
                            </div>
                            <p id="phrase-meaning-4" class="text-sm text-text-secondary mb-2">请给我账单好吗？</p>
                            <div class="flex items-center justify-between">
                                <div id="phrase-tags-4" class="flex items-center space-x-2">
                                    <span class="px-2 py-1 bg-orange-50 text-orange-600 text-xs rounded-full">餐饮服务</span>
                                    <span class="px-2 py-1 bg-yellow-50 text-yellow-600 text-xs rounded-full">进阶</span>
                                </div>
                                <span id="phrase-date-4" class="text-xs text-text-secondary">2024-01-14</span>
                            </div>
                        </div>
                        <button id="review-btn-4" class="w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center ml-3">
                            <i class="fas fa-redo text-gray-600 text-xs"></i>
                        </button>
                    </div>
                </div>

                <!-- 短语列表项5 -->
                <div id="phrase-item-5" class="bg-white rounded-card shadow-card p-4 card-hover" data-phrase-id="phrase_005">
                    <div id="phrase-content-5" class="flex items-center justify-between">
                        <div id="phrase-info-5" class="flex-1">
                            <div class="flex items-center justify-between mb-2">
                                <h3 id="phrase-text-5" class="text-base font-semibold text-text-primary">Where is the restroom?</h3>
                                <span class="mastery-badge-learning text-white text-xs px-2 py-1 rounded-full">学习中</span>
                            </div>
                            <p id="phrase-meaning-5" class="text-sm text-text-secondary mb-2">洗手间在哪里？</p>
                            <div class="flex items-center justify-between">
                                <div id="phrase-tags-5" class="flex items-center space-x-2">
                                    <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">旅行出行</span>
                                    <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">入门</span>
                                </div>
                                <span id="phrase-date-5" class="text-xs text-text-secondary">2024-01-13</span>
                            </div>
                        </div>
                        <button id="review-btn-5" class="w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center ml-3">
                            <i class="fas fa-redo text-gray-600 text-xs"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- 加载更多 -->
            <div id="load-more" class="text-center mt-6">
                <button id="load-more-btn" class="px-6 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium">
                    加载更多
                </button>
            </div>
        </section>
    </div>

    <!-- 底部导航栏 -->
    <nav id="bottom-nav" class="fixed bottom-0 left-0 right-0 bg-white border-t border-border-light flex justify-around items-center h-16 px-2 safe-bottom z-40">
        <a id="nav-home" href="#" class="flex flex-col items-center p-2 text-text-secondary">
            <i class="fas fa-home text-xl"></i>
            <span class="text-xs mt-0.5">首页</span>
        </a>
        <a id="nav-library" href="#" class="flex flex-col items-center p-2 text-text-secondary">
            <i class="fas fa-book text-xl"></i>
            <span class="text-xs mt-0.5">短语库</span>
        </a>
        <a id="nav-scene" href="#" class="flex flex-col items-center p-2 text-text-secondary">
            <i class="fas fa-map-marker-alt text-xl"></i>
            <span class="text-xs mt-0.5">场景学习</span>
        </a>
        <a id="nav-profile" href="#" class="flex flex-col items-center p-2 text-primary">
            <i class="fas fa-user text-xl"></i>
            <span class="text-xs mt-0.5 font-medium">我的</span>
        </a>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 返回按钮点击事件
            document.querySelector('#back-btn').addEventListener('click', function() {
                window.location.href = 'P-HOME.html';
            });

            // 筛选按钮点击事件
            document.querySelector('#filter-btn').addEventListener('click', function() {
                const dropdown = document.querySelector('#filter-dropdown');
                dropdown.classList.toggle('show');
            });

            // 筛选选项点击事件
            const filterOptions = document.querySelectorAll('.filter-option');
            filterOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const filterType = this.dataset.filter;
                    const filterValue = this.dataset.value;
                    
                    // 重置同类型的其他选项
                    document.querySelectorAll(`[data-filter="${filterType}"]`).forEach(opt => {
                        opt.classList.remove('bg-primary', 'text-white');
                        opt.classList.add('bg-gray-100', 'text-gray-700');
                    });
                    
                    // 激活当前选项
                    this.classList.remove('bg-gray-100', 'text-gray-700');
                    this.classList.add('bg-primary', 'text-white');
                    
                    // 应用筛选（这里只是演示，实际需要根据筛选条件过滤列表）
                    applyFilters();
                });
            });

            // 短语列表项点击事件
            const phraseItems = document.querySelectorAll('[id^="phrase-item-"]');
            phraseItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    // 如果点击的是复习按钮，不触发跳转
                    if (e.target.closest('[id^="review-btn-"]')) {
                        return;
                    }
                    
                    const phraseId = this.dataset.phraseId;
                    window.location.href = `P-PHRASE_DETAIL.html?phraseId=${phraseId}`;
                });
            });

            // 复习按钮点击事件
            const reviewButtons = document.querySelectorAll('[id^="review-btn-"]');
            reviewButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const phraseItem = this.closest('[data-phrase-id]');
                    const phraseId = phraseItem.dataset.phraseId;
                    window.location.href = `P-TEST.html?phraseId=${phraseId}`;
                });
            });

            // 加载更多按钮点击事件
            document.querySelector('#load-more-btn').addEventListener('click', function() {
                // 模拟加载更多数据
                this.textContent = '加载中...';
                setTimeout(() => {
                    this.textContent = '加载更多';
                    // 这里可以添加更多短语列表项
                }, 1000);
            });

            // 底部导航栏点击事件
            document.querySelector('#nav-home').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-HOME.html';
            });

            document.querySelector('#nav-library').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-PHRASE_LIBRARY.html';
            });

            document.querySelector('#nav-scene').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-SCENE_LIST.html';
            });

            document.querySelector('#nav-profile').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-USER_PROFILE.html';
            });

            // 应用筛选的函数
            function applyFilters() {
                // 获取当前选中的筛选条件
                const timeFilter = document.querySelector('[data-filter="time"].bg-primary').dataset.value;
                const sceneFilter = document.querySelector('[data-filter="scene"].bg-primary').dataset.value;
                const masteryFilter = document.querySelector('[data-filter="mastery"].bg-primary').dataset.value;
                
                console.log('应用筛选条件:', { timeFilter, sceneFilter, masteryFilter });
                
                // 这里可以根据筛选条件过滤短语列表
                // 实际实现中需要根据筛选条件显示/隐藏对应的短语项
            }

            // 卡片点击效果
            const cards = document.querySelectorAll('.card-hover');
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'translateY(-2px)';
                    }, 100);
                });
            });
        });
    </script>
</body>
</html>