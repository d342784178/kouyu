<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语习集 - 登录注册</title>
    <script src="https://unpkg.byted-static.com/coze/space_ppt_lib/1.0.3-alpha.12/lib/tailwindcss.js"></script>
    <script src="https://unpkg.byted-static.com/fortawesome/fontawesome-free/6.7.2/js/all.min.js" data-auto-replace-svg="nest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#7c3aed',
                        tertiary: '#059669',
                        success: '#10b981',
                        danger: '#ef4444',
                        info: '#3b82f6',
                        'text-primary': '#1f2937',
                        'text-secondary': '#6b7280',
                        'bg-card': '#ffffff',
                        'bg-secondary': '#f8fafc',
                        'border-light': '#e5e7eb'
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif']
                    },
                    boxShadow: {
                        'card': '0 2px 8px rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 4px 16px rgba(0, 0, 0, 0.1)'
                    },
                    borderRadius: {
                        'card': '16px'
                    }
                }
            }
        }
    </script>
    <style>
        .safe-top {
            padding-top: env(safe-area-inset-top);
        }
        .safe-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .input-focus:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
        }
        
        .button-hover:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }
        
        .third-party-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .logo-glow {
            filter: drop-shadow(0 0 20px rgba(37, 99, 235, 0.3));
        }
    </style>
</head>
<body class="bg-bg-secondary font-sans">
    <!-- 状态栏 -->
    <div id="status-bar" class="bg-white safe-top">
        <div class="flex justify-between items-center px-6 py-2 text-sm font-medium text-gray-900">
            <span>9:41</span>
            <div class="flex items-center space-x-1">
                <i class="fas fa-signal text-xs"></i>
                <i class="fas fa-wifi text-xs"></i>
                <i class="fas fa-battery-three-quarters text-xs"></i>
            </div>
        </div>
    </div>

    <!-- 主要内容区域 -->
    <div id="main-content" class="min-h-screen flex flex-col">
        <!-- Logo和标题区域 -->
        <div id="logo-section" class="flex-1 flex flex-col items-center justify-center px-6 py-12">
            <!-- Logo -->
            <div id="app-logo" class="w-24 h-24 bg-gradient-to-r from-primary to-secondary rounded-3xl flex items-center justify-center mb-6 logo-glow">
                <i class="fas fa-graduation-cap text-white text-3xl"></i>
            </div>
            
            <!-- 应用名称 -->
            <h1 id="app-name" class="text-3xl font-bold text-text-primary mb-2">语习集</h1>
            <p id="app-slogan" class="text-text-secondary text-center">AI驱动的日常英语短语学习助手</p>
        </div>

        <!-- 登录表单区域 -->
        <div id="form-section" class="px-6 pb-8">
            <!-- 切换登录/注册标签 -->
            <div id="auth-tabs" class="bg-white rounded-card p-1 mb-6 shadow-card">
                <div class="flex">
                    <button id="login-tab" class="flex-1 py-3 text-center text-sm font-medium rounded-xl bg-primary text-white transition-all">
                        登录
                    </button>
                    <button id="register-tab" class="flex-1 py-3 text-center text-sm font-medium rounded-xl text-text-secondary transition-all">
                        注册
                    </button>
                </div>
            </div>

            <!-- 登录表单 -->
            <form id="login-form" class="space-y-4">
                <!-- 手机号输入 -->
                <div id="phone-input-container" class="space-y-2">
                    <label for="phone-input" class="block text-sm font-medium text-text-primary">手机号</label>
                    <div class="relative">
                        <input 
                            type="tel" 
                            id="phone-input" 
                            name="phone"
                            placeholder="请输入手机号" 
                            class="w-full pl-12 pr-4 py-3 border border-border-light rounded-xl text-sm input-focus transition-all"
                            maxlength="11"
                        >
                        <i class="fas fa-phone absolute left-4 top-1/2 transform -translate-y-1/2 text-text-secondary text-sm"></i>
                    </div>
                    <div id="phone-error" class="text-danger text-xs hidden">请输入正确的手机号</div>
                </div>

                <!-- 密码输入 -->
                <div id="password-input-container" class="space-y-2">
                    <label for="password-input" class="block text-sm font-medium text-text-primary">密码</label>
                    <div class="relative">
                        <input 
                            type="password" 
                            id="password-input" 
                            name="password"
                            placeholder="请输入密码" 
                            class="w-full pl-12 pr-12 py-3 border border-border-light rounded-xl text-sm input-focus transition-all"
                        >
                        <i class="fas fa-lock absolute left-4 top-1/2 transform -translate-y-1/2 text-text-secondary text-sm"></i>
                        <button type="button" id="toggle-password" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-text-secondary">
                            <i class="fas fa-eye text-sm"></i>
                        </button>
                    </div>
                    <div id="password-error" class="text-danger text-xs hidden">密码长度至少6位</div>
                </div>

                <!-- 验证码输入（注册时显示） -->
                <div id="verification-input-container" class="space-y-2 hidden">
                    <label for="verification-input" class="block text-sm font-medium text-text-primary">验证码</label>
                    <div class="flex space-x-3">
                        <div class="relative flex-1">
                            <input 
                                type="text" 
                                id="verification-input" 
                                name="verification"
                                placeholder="请输入验证码" 
                                class="w-full pl-12 pr-4 py-3 border border-border-light rounded-xl text-sm input-focus transition-all"
                                maxlength="6"
                            >
                            <i class="fas fa-shield-alt absolute left-4 top-1/2 transform -translate-y-1/2 text-text-secondary text-sm"></i>
                        </div>
                        <button 
                            type="button" 
                            id="get-verification-btn" 
                            class="px-4 py-3 bg-primary text-white text-sm font-medium rounded-xl button-hover transition-all whitespace-nowrap"
                        >
                            获取验证码
                        </button>
                    </div>
                    <div id="verification-error" class="text-danger text-xs hidden">请输入正确的验证码</div>
                </div>

                <!-- 忘记密码 -->
                <div id="forgot-password-container" class="text-right">
                    <button type="button" id="forgot-password-btn" class="text-primary text-sm font-medium">
                        忘记密码？
                    </button>
                </div>

                <!-- 登录/注册按钮 -->
                <button 
                    type="submit" 
                    id="auth-submit-btn" 
                    class="w-full py-3 bg-gradient-to-r from-primary to-secondary text-white text-sm font-semibold rounded-xl button-hover transition-all"
                >
                    登录
                </button>
            </form>

            <!-- 分割线 -->
            <div id="divider" class="flex items-center my-8">
                <div class="flex-1 h-px bg-border-light"></div>
                <span class="px-4 text-text-secondary text-sm">或</span>
                <div class="flex-1 h-px bg-border-light"></div>
            </div>

            <!-- 第三方登录 -->
            <div id="third-party-login" class="space-y-3">
                <button id="wechat-login-btn" class="w-full py-3 bg-green-500 text-white text-sm font-medium rounded-xl third-party-btn transition-all flex items-center justify-center">
                    <i class="fab fa-weixin text-xl mr-3"></i>
                    微信登录
                </button>
                
                <button id="qq-login-btn" class="w-full py-3 bg-blue-500 text-white text-sm font-medium rounded-xl third-party-btn transition-all flex items-center justify-center">
                    <i class="fab fa-qq text-xl mr-3"></i>
                    QQ登录
                </button>
            </div>

            <!-- 用户协议 -->
            <div id="user-agreement" class="mt-6 text-center">
                <p class="text-text-secondary text-xs">
                    登录即表示同意
                    <button type="button" id="user-agreement-btn" class="text-primary font-medium">《用户协议》</button>
                    和
                    <button type="button" id="privacy-policy-btn" class="text-primary font-medium">《隐私政策》</button>
                </p>
            </div>
        </div>
    </div>

    <!-- 加载提示 -->
    <div id="loading-overlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 flex items-center space-x-3">
            <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-primary"></div>
            <span class="text-text-primary text-sm font-medium">正在登录...</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 获取DOM元素
            const loginTab = document.querySelector('#login-tab');
            const registerTab = document.querySelector('#register-tab');
            const authSubmitBtn = document.querySelector('#auth-submit-btn');
            const verificationContainer = document.querySelector('#verification-input-container');
            const forgotPasswordContainer = document.querySelector('#forgot-password-container');
            const getVerificationBtn = document.querySelector('#get-verification-btn');
            const togglePasswordBtn = document.querySelector('#toggle-password');
            const passwordInput = document.querySelector('#password-input');
            const authForm = document.querySelector('#login-form');
            const loadingOverlay = document.querySelector('#loading-overlay');

            let isLoginMode = true;
            let countdownTimer = null;
            let countdown = 0;

            // 切换登录/注册模式
            loginTab.addEventListener('click', function() {
                if (!isLoginMode) {
                    switchToLoginMode();
                }
            });

            registerTab.addEventListener('click', function() {
                if (isLoginMode) {
                    switchToRegisterMode();
                }
            });

            function switchToLoginMode() {
                isLoginMode = true;
                loginTab.classList.add('bg-primary', 'text-white');
                loginTab.classList.remove('text-text-secondary');
                registerTab.classList.remove('bg-primary', 'text-white');
                registerTab.classList.add('text-text-secondary');
                authSubmitBtn.textContent = '登录';
                verificationContainer.classList.add('hidden');
                forgotPasswordContainer.classList.remove('hidden');
                clearErrors();
            }

            function switchToRegisterMode() {
                isLoginMode = false;
                registerTab.classList.add('bg-primary', 'text-white');
                registerTab.classList.remove('text-text-secondary');
                loginTab.classList.remove('bg-primary', 'text-white');
                loginTab.classList.add('text-text-secondary');
                authSubmitBtn.textContent = '注册';
                verificationContainer.classList.remove('hidden');
                forgotPasswordContainer.classList.add('hidden');
                clearErrors();
            }

            // 密码显示/隐藏切换
            togglePasswordBtn.addEventListener('click', function() {
                const icon = this.querySelector('i');
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    passwordInput.type = 'password';
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            });

            // 获取验证码
            getVerificationBtn.addEventListener('click', function() {
                const phone = document.querySelector('#phone-input').value;
                
                if (!validatePhone(phone)) {
                    showError('phone-error', '请输入正确的手机号');
                    return;
                }

                // 模拟发送验证码
                console.log('发送验证码到手机号：', phone);
                startCountdown();
            });

            function startCountdown() {
                countdown = 60;
                getVerificationBtn.disabled = true;
                getVerificationBtn.classList.add('opacity-50');
                
                countdownTimer = setInterval(function() {
                    getVerificationBtn.textContent = `${countdown}秒后重试`;
                    countdown--;
                    
                    if (countdown < 0) {
                        clearInterval(countdownTimer);
                        getVerificationBtn.disabled = false;
                        getVerificationBtn.classList.remove('opacity-50');
                        getVerificationBtn.textContent = '获取验证码';
                    }
                }, 1000);
            }

            // 表单提交
            authForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const phone = document.querySelector('#phone-input').value;
                const password = document.querySelector('#password-input').value;
                const verification = document.querySelector('#verification-input').value;
                
                if (!validateForm(phone, password, verification)) {
                    return;
                }

                // 显示加载状态
                showLoading();

                // 模拟登录/注册请求
                setTimeout(function() {
                    hideLoading();
                    
                    if (isLoginMode) {
                        console.log('登录成功，用户手机号：', phone);
                    } else {
                        console.log('注册成功，用户手机号：', phone);
                    }
                    
                    // 跳转到首页
                    window.location.href = 'P-HOME.html';
                }, 2000);
            });

            function validateForm(phone, password, verification) {
                let isValid = true;
                clearErrors();

                if (!validatePhone(phone)) {
                    showError('phone-error', '请输入正确的手机号');
                    isValid = false;
                }

                if (!validatePassword(password)) {
                    showError('password-error', '密码长度至少6位');
                    isValid = false;
                }

                if (!isLoginMode && !validateVerification(verification)) {
                    showError('verification-error', '请输入6位验证码');
                    isValid = false;
                }

                return isValid;
            }

            function validatePhone(phone) {
                const phoneRegex = /^1[3-9]\d{9}$/;
                return phoneRegex.test(phone);
            }

            function validatePassword(password) {
                return password.length >= 6;
            }

            function validateVerification(verification) {
                return verification.length === 6 && /^\d{6}$/.test(verification);
            }

            function showError(errorId, message) {
                const errorElement = document.querySelector(`#${errorId}`);
                errorElement.textContent = message;
                errorElement.classList.remove('hidden');
            }

            function clearErrors() {
                const errorElements = document.querySelectorAll('[id$="-error"]');
                errorElements.forEach(error => {
                    error.classList.add('hidden');
                });
            }

            function showLoading() {
                loadingOverlay.classList.remove('hidden');
            }

            function hideLoading() {
                loadingOverlay.classList.add('hidden');
            }

            // 忘记密码
            document.querySelector('#forgot-password-btn').addEventListener('click', function() {
                console.log('跳转到忘记密码页面');
                // 这里可以跳转到忘记密码页面或显示重置密码表单
            });

            // 第三方登录
            document.querySelector('#wechat-login-btn').addEventListener('click', function() {
                console.log('需要调用第三方接口实现微信登录');
                showLoading();
                setTimeout(function() {
                    hideLoading();
                    window.location.href = 'P-HOME.html';
                }, 1500);
            });

            document.querySelector('#qq-login-btn').addEventListener('click', function() {
                console.log('需要调用第三方接口实现QQ登录');
                showLoading();
                setTimeout(function() {
                    hideLoading();
                    window.location.href = 'P-HOME.html';
                }, 1500);
            });

            // 用户协议和隐私政策
            document.querySelector('#user-agreement-btn').addEventListener('click', function() {
                console.log('查看用户协议');
                // 这里可以打开用户协议页面或弹窗
            });

            document.querySelector('#privacy-policy-btn').addEventListener('click', function() {
                console.log('查看隐私政策');
                // 这里可以打开隐私政策页面或弹窗
            });

            // 输入框焦点效果
            const inputs = document.querySelectorAll('input');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('ring-2', 'ring-primary', 'ring-opacity-20');
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.classList.remove('ring-2', 'ring-primary', 'ring-opacity-20');
                });
            });
        });
    </script>
</body>
</html>