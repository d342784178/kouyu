<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语习集 - 学习计划</title>
    <script src="https://unpkg.byted-static.com/coze/space_ppt_lib/1.0.3-alpha.12/lib/tailwindcss.js"></script>
    <script src="https://unpkg.byted-static.com/fortawesome/fontawesome-free/6.7.2/js/all.min.js" data-auto-replace-svg="nest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#7c3aed',
                        tertiary: '#059669',
                        success: '#10b981',
                        danger: '#ef4444',
                        info: '#3b82f6',
                        'text-primary': '#1f2937',
                        'text-secondary': '#6b7280',
                        'bg-card': '#ffffff',
                        'bg-secondary': '#f8fafc',
                        'border-light': '#e5e7eb'
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif']
                    },
                    boxShadow: {
                        'card': '0 2px 8px rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 4px 16px rgba(0, 0, 0, 0.1)'
                    },
                    borderRadius: {
                        'card': '16px'
                    }
                }
            }
        }
    </script>
    <style>
        .safe-top {
            padding-top: env(safe-area-inset-top);
        }
        .safe-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            stroke-dasharray: 251.2;
            stroke-dashoffset: 125.6;
            transition: stroke-dashoffset 0.5s ease-in-out;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .goal-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
    </style>
</head>
<body class="bg-bg-secondary font-sans">
    <!-- 状态栏 -->
    <div id="status-bar" class="bg-white safe-top">
        <div class="flex justify-between items-center px-6 py-2 text-sm font-medium text-gray-900">
            <span>9:41</span>
            <div class="flex items-center space-x-1">
                <i class="fas fa-signal text-xs"></i>
                <i class="fas fa-wifi text-xs"></i>
                <i class="fas fa-battery-three-quarters text-xs"></i>
            </div>
        </div>
    </div>

    <!-- 主要内容区域 -->
    <div id="main-content" class="min-h-screen pb-6">
        <!-- 顶部导航栏 -->
        <header id="top-header" class="bg-white px-6 py-4 shadow-sm">
            <div id="header-content" class="flex items-center">
                <!-- 返回按钮 -->
                <button id="back-btn" class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center mr-4">
                    <i class="fas fa-arrow-left text-gray-600 text-sm"></i>
                </button>
                
                <!-- 页面标题 -->
                <h1 id="page-title" class="text-lg font-semibold text-text-primary">学习计划</h1>
            </div>
        </header>

        <!-- 今日学习目标 -->
        <section id="daily-goal" class="mx-6 mt-6">
            <div id="daily-goal-card" class="bg-white rounded-card shadow-card p-6">
                <div id="daily-goal-header" class="flex items-center justify-between mb-6">
                    <h2 id="daily-goal-title" class="text-lg font-semibold text-text-primary">今日目标</h2>
                    <span id="goal-date" class="text-sm text-text-secondary">2024年1月15日</span>
                </div>
                
                <div id="daily-goal-content" class="flex items-center justify-between">
                    <!-- 进度环 -->
                    <div id="daily-progress-container" class="relative">
                        <svg class="w-24 h-24 progress-ring" viewBox="0 0 84 84">
                            <circle
                                cx="42"
                                cy="42"
                                r="40"
                                stroke="#e5e7eb"
                                stroke-width="4"
                                fill="transparent"
                            />
                            <circle
                                cx="42"
                                cy="42"
                                r="40"
                                stroke="#2563eb"
                                stroke-width="4"
                                fill="transparent"
                                class="progress-ring-circle"
                                stroke-linecap="round"
                            />
                        </svg>
                        <div id="daily-progress-text" class="absolute inset-0 flex flex-col items-center justify-center">
                            <span class="text-xl font-bold text-text-primary">3/5</span>
                            <span class="text-xs text-text-secondary">已完成</span>
                        </div>
                    </div>
                    
                    <!-- 目标详情 -->
                    <div id="daily-goal-details" class="flex-1 ml-6 space-y-3">
                        <div id="goal-phrases" class="flex justify-between items-center">
                            <span class="text-sm text-text-secondary">学习短语</span>
                            <span class="text-sm font-semibold text-text-primary">5个</span>
                        </div>
                        <div id="goal-scene" class="flex justify-between items-center">
                            <span class="text-sm text-text-secondary">目标场景</span>
                            <span class="text-sm font-semibold text-primary">旅行出行</span>
                        </div>
                        <div id="goal-time" class="flex justify-between items-center">
                            <span class="text-sm text-text-secondary">建议时长</span>
                            <span class="text-sm font-semibold text-text-primary">30分钟</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 本周学习概览 -->
        <section id="weekly-overview" class="mx-6 mt-4">
            <div id="weekly-overview-card" class="bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 rounded-card p-5">
                <div id="weekly-overview-header" class="flex items-center justify-between mb-4">
                    <h2 id="weekly-overview-title" class="text-lg font-semibold text-text-primary">本周概览</h2>
                    <span id="weekly-status" class="px-3 py-1 bg-green-100 text-green-700 text-xs rounded-full">按计划进行</span>
                </div>
                
                <div id="weekly-stats" class="grid grid-cols-3 gap-4">
                    <div id="weekly-learned" class="text-center">
                        <div class="text-xl font-bold text-primary">18</div>
                        <div class="text-xs text-text-secondary">已学短语</div>
                    </div>
                    <div id="weekly-mastered" class="text-center">
                        <div class="text-xl font-bold text-tertiary">15</div>
                        <div class="text-xs text-text-secondary">已掌握</div>
                    </div>
                    <div id="weekly-time" class="text-center">
                        <div class="text-xl font-bold text-secondary">3.2小时</div>
                        <div class="text-xs text-text-secondary">学习时长</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 推荐学习短语 -->
        <section id="recommended-phrases" class="mx-6 mt-6">
            <div id="recommended-header" class="flex items-center justify-between mb-4">
                <h2 id="recommended-title" class="text-lg font-semibold text-text-primary">推荐学习</h2>
                <span id="recommended-count" class="text-sm text-text-secondary">5个短语</span>
            </div>
            
            <div id="phrases-list" class="space-y-3">
                <!-- 推荐短语1 -->
                <div id="phrase-card-1" class="bg-white rounded-card shadow-card p-4 card-hover cursor-pointer" data-phrase-id="phrase_001">
                    <div id="phrase-content-1" class="flex items-center justify-between">
                        <div id="phrase-info-1" class="flex-1">
                            <h3 id="phrase-text-1" class="text-base font-semibold text-text-primary mb-1">Could you tell me how to get to...</h3>
                            <p id="phrase-meaning-1" class="text-sm text-text-secondary mb-2">请问怎么去...？</p>
                            <div id="phrase-tags-1" class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">旅行出行</span>
                                <span class="px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded-full">进阶</span>
                            </div>
                        </div>
                        <button id="phrase-audio-1" class="w-10 h-10 bg-gray-50 rounded-full flex items-center justify-center ml-4">
                            <i class="fas fa-play text-gray-600 text-sm"></i>
                        </button>
                    </div>
                </div>

                <!-- 推荐短语2 -->
                <div id="phrase-card-2" class="bg-white rounded-card shadow-card p-4 card-hover cursor-pointer" data-phrase-id="phrase_002">
                    <div id="phrase-content-2" class="flex items-center justify-between">
                        <div id="phrase-info-2" class="flex-1">
                            <h3 id="phrase-text-2" class="text-base font-semibold text-text-primary mb-1">I'd like to book a ticket to...</h3>
                            <p id="phrase-meaning-2" class="text-sm text-text-secondary mb-2">我想订一张去...的票</p>
                            <div id="phrase-tags-2" class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">旅行出行</span>
                                <span class="px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded-full">进阶</span>
                            </div>
                        </div>
                        <button id="phrase-audio-2" class="w-10 h-10 bg-gray-50 rounded-full flex items-center justify-center ml-4">
                            <i class="fas fa-play text-gray-600 text-sm"></i>
                        </button>
                    </div>
                </div>

                <!-- 推荐短语3 -->
                <div id="phrase-card-3" class="bg-white rounded-card shadow-card p-4 card-hover cursor-pointer" data-phrase-id="phrase_003">
                    <div id="phrase-content-3" class="flex items-center justify-between">
                        <div id="phrase-info-3" class="flex-1">
                            <h3 id="phrase-text-3" class="text-base font-semibold text-text-primary mb-1">Where can I exchange money?</h3>
                            <p id="phrase-meaning-3" class="text-sm text-text-secondary mb-2">哪里可以换钱？</p>
                            <div id="phrase-tags-3" class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">旅行出行</span>
                                <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">入门</span>
                            </div>
                        </div>
                        <button id="phrase-audio-3" class="w-10 h-10 bg-gray-50 rounded-full flex items-center justify-center ml-4">
                            <i class="fas fa-play text-gray-600 text-sm"></i>
                        </button>
                    </div>
                </div>

                <!-- 推荐短语4 -->
                <div id="phrase-card-4" class="bg-white rounded-card shadow-card p-4 card-hover cursor-pointer" data-phrase-id="phrase_004">
                    <div id="phrase-content-4" class="flex items-center justify-between">
                        <div id="phrase-info-4" class="flex-1">
                            <h3 id="phrase-text-4" class="text-base font-semibold text-text-primary mb-1">Is there a hotel nearby?</h3>
                            <p id="phrase-meaning-4" class="text-sm text-text-secondary mb-2">附近有酒店吗？</p>
                            <div id="phrase-tags-4" class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">旅行出行</span>
                                <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">入门</span>
                            </div>
                        </div>
                        <button id="phrase-audio-4" class="w-10 h-10 bg-gray-50 rounded-full flex items-center justify-center ml-4">
                            <i class="fas fa-play text-gray-600 text-sm"></i>
                        </button>
                    </div>
                </div>

                <!-- 推荐短语5 -->
                <div id="phrase-card-5" class="bg-white rounded-card shadow-card p-4 card-hover cursor-pointer" data-phrase-id="phrase_005">
                    <div id="phrase-content-5" class="flex items-center justify-between">
                        <div id="phrase-info-5" class="flex-1">
                            <h3 id="phrase-text-5" class="text-base font-semibold text-text-primary mb-1">Could you recommend a good restaurant?</h3>
                            <p id="phrase-meaning-5" class="text-sm text-text-secondary mb-2">能推荐一家好餐厅吗？</p>
                            <div id="phrase-tags-5" class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded-full">旅行出行</span>
                                <span class="px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded-full">进阶</span>
                            </div>
                        </div>
                        <button id="phrase-audio-5" class="w-10 h-10 bg-gray-50 rounded-full flex items-center justify-center ml-4">
                            <i class="fas fa-play text-gray-600 text-sm"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 学习建议 -->
        <section id="learning-suggestions" class="mx-6 mt-6">
            <div id="suggestions-card" class="bg-white rounded-card shadow-card p-5">
                <h2 id="suggestions-title" class="text-lg font-semibold text-text-primary mb-4">学习建议</h2>
                
                <div id="suggestions-list" class="space-y-3">
                    <div id="suggestion-1" class="flex items-start">
                        <div id="suggestion-1-icon" class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mt-0.5 mr-3 flex-shrink-0">
                            <i class="fas fa-lightbulb text-blue-600 text-xs"></i>
                        </div>
                        <p id="suggestion-1-text" class="text-sm text-text-secondary">建议先学习入门级短语，打好基础后再学习进阶内容</p>
                    </div>
                    
                    <div id="suggestion-2" class="flex items-start">
                        <div id="suggestion-2-icon" class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mt-0.5 mr-3 flex-shrink-0">
                            <i class="fas fa-clock text-green-600 text-xs"></i>
                        </div>
                        <p id="suggestion-2-text" class="text-sm text-text-secondary">每天坚持学习30分钟，效果更佳</p>
                    </div>
                    
                    <div id="suggestion-3" class="flex items-start">
                        <div id="suggestion-3-icon" class="w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mt-0.5 mr-3 flex-shrink-0">
                            <i class="fas fa-comments text-purple-600 text-xs"></i>
                        </div>
                        <p id="suggestion-3-text" class="text-sm text-text-secondary">学完后可以在对话练习中尝试使用新短语</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 返回按钮点击事件
            document.querySelector('#back-btn').addEventListener('click', function() {
                window.location.href = 'P-USER_PROFILE.html';
            });

            // 推荐短语卡片点击事件
            const phraseCards = document.querySelectorAll('[id^="phrase-card-"]');
            phraseCards.forEach(card => {
                card.addEventListener('click', function() {
                    const phraseId = this.getAttribute('data-phrase-id');
                    window.location.href = `P-PHRASE_DETAIL.html?phraseId=${phraseId}`;
                });
            });

            // 音频播放按钮效果
            const audioButtons = document.querySelectorAll('[id^="phrase-audio-"]');
            audioButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const icon = this.querySelector('i');
                    if (icon.classList.contains('fa-play')) {
                        icon.classList.remove('fa-play');
                        icon.classList.add('fa-pause');
                        setTimeout(() => {
                            icon.classList.remove('fa-pause');
                            icon.classList.add('fa-play');
                        }, 2000);
                    }
                });
            });

            // 卡片悬停效果
            const cards = document.querySelectorAll('.card-hover');
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'translateY(-2px)';
                    }, 100);
                });
            });

            // 更新进度环
            function updateProgressRing(percentage) {
                const circle = document.querySelector('.progress-ring-circle');
                const circumference = 2 * Math.PI * 40;
                const offset = circumference - (percentage / 100) * circumference;
                circle.style.strokeDashoffset = offset;
            }

            // 计算今日目标完成度并更新进度环
            const completed = 3;
            const total = 5;
            const percentage = (completed / total) * 100;
            updateProgressRing(percentage);
        });
    </script>
</body>
</html>