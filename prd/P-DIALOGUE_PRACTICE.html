<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语习集 - 对话练习</title>
    <script src="https://unpkg.byted-static.com/coze/space_ppt_lib/1.0.3-alpha.12/lib/tailwindcss.js"></script>
    <script src="https://unpkg.byted-static.com/fortawesome/fontawesome-free/6.7.2/js/all.min.js" data-auto-replace-svg="nest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#7c3aed',
                        tertiary: '#059669',
                        success: '#10b981',
                        danger: '#ef4444',
                        info: '#3b82f6',
                        'text-primary': '#1f2937',
                        'text-secondary': '#6b7280',
                        'bg-card': '#ffffff',
                        'bg-secondary': '#f8fafc',
                        'border-light': '#e5e7eb'
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif']
                    },
                    boxShadow: {
                        'card': '0 2px 8px rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 4px 16px rgba(0, 0, 0, 0.1)'
                    },
                    borderRadius: {
                        'card': '16px'
                    }
                }
            }
        }
    </script>
    <style>
        .safe-top {
            padding-top: env(safe-area-inset-top);
        }
        .safe-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        .scene-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .ai-bubble {
            background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);
        }
        
        .user-bubble {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
        }
        
        .recording-animation {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
        }
        
        .typing-indicator {
            display: inline-flex;
            align-items: center;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            margin: 0 2px;
            background-color: #9ca3af;
            border-radius: 50%;
            display: inline-block;
            animation: typing 1.4s infinite ease-in-out both;
        }
        
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-bg-secondary font-sans">
    <!-- 状态栏 -->
    <div id="status-bar" class="bg-white safe-top">
        <div class="flex justify-between items-center px-6 py-2 text-sm font-medium text-gray-900">
            <span>9:41</span>
            <div class="flex items-center space-x-1">
                <i class="fas fa-signal text-xs"></i>
                <i class="fas fa-wifi text-xs"></i>
                <i class="fas fa-battery-three-quarters text-xs"></i>
            </div>
        </div>
    </div>

    <!-- 主要内容区域 -->
    <div id="main-content" class="pb-20">
        <!-- 顶部导航栏 -->
        <header id="top-header" class="bg-white px-6 py-4 shadow-sm">
            <div id="header-content" class="flex items-center justify-between">
                <!-- 返回按钮 -->
                <button id="back-btn" class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center">
                    <i class="fas fa-arrow-left text-gray-600"></i>
                </button>
                
                <!-- 页面标题 -->
                <h1 id="page-title" class="text-lg font-semibold text-text-primary">对话练习</h1>
                
                <!-- 保存对话按钮 -->
                <button id="save-dialogue-btn" class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center">
                    <i class="fas fa-save text-gray-600"></i>
                </button>
            </div>
        </header>

        <!-- 场景选择区域 -->
        <section id="scene-selection" class="mx-6 mt-6">
            <div id="scene-selection-content" class="bg-white rounded-card shadow-card p-6">
                <h2 id="scene-selection-title" class="text-lg font-semibold text-text-primary mb-4">选择对话场景</h2>
                
                <div id="scene-list" class="space-y-3">
                    <!-- 日常问候 -->
                    <div id="scene-daily" class="scene-card rounded-card p-4 card-hover cursor-pointer" data-scene="daily">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full flex items-center justify-center mr-4">
                                <i class="fas fa-hand-paper text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-sm font-semibold text-text-primary">日常问候</h3>
                                <p class="text-xs text-text-secondary">学习日常见面、问候的对话</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>

                    <!-- 购物消费 -->
                    <div id="scene-shopping" class="scene-card rounded-card p-4 card-hover cursor-pointer" data-scene="shopping">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-gradient-to-r from-purple-400 to-purple-600 rounded-full flex items-center justify-center mr-4">
                                <i class="fas fa-shopping-bag text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-sm font-semibold text-text-primary">购物消费</h3>
                                <p class="text-xs text-text-secondary">练习购物、询问价格的对话</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>

                    <!-- 餐饮服务 -->
                    <div id="scene-restaurant" class="scene-card rounded-card p-4 card-hover cursor-pointer" data-scene="restaurant">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full flex items-center justify-center mr-4">
                                <i class="fas fa-utensils text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-sm font-semibold text-text-primary">餐饮服务</h3>
                                <p class="text-xs text-text-secondary">学习餐厅点餐、用餐的对话</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>

                    <!-- 旅行出行 -->
                    <div id="scene-travel" class="scene-card rounded-card p-4 card-hover cursor-pointer" data-scene="travel">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-green-600 rounded-full flex items-center justify-center mr-4">
                                <i class="fas fa-plane text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-sm font-semibold text-text-primary">旅行出行</h3>
                                <p class="text-xs text-text-secondary">练习机场、酒店的对话</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 角色选择区域 -->
        <section id="role-selection" class="mx-6 mt-6 hidden">
            <div id="role-selection-content" class="bg-white rounded-card shadow-card p-6">
                <h2 id="role-selection-title" class="text-lg font-semibold text-text-primary mb-4">选择你的角色</h2>
                
                <div id="role-list" class="space-y-3">
                    <!-- 顾客角色 -->
                    <div id="role-customer" class="scene-card rounded-card p-4 card-hover cursor-pointer" data-role="customer">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full flex items-center justify-center mr-4">
                                <i class="fas fa-user text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-sm font-semibold text-text-primary">顾客</h3>
                                <p class="text-xs text-text-secondary">扮演购买商品或服务的顾客</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>

                    <!-- 店员角色 -->
                    <div id="role-staff" class="scene-card rounded-card p-4 card-hover cursor-pointer" data-role="staff">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-green-600 rounded-full flex items-center justify-center mr-4">
                                <i class="fas fa-user-tie text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-sm font-semibold text-text-primary">店员</h3>
                                <p class="text-xs text-text-secondary">扮演提供服务的店员</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>

                    <!-- 朋友角色 -->
                    <div id="role-friend" class="scene-card rounded-card p-4 card-hover cursor-pointer" data-role="friend">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-gradient-to-r from-purple-400 to-purple-600 rounded-full flex items-center justify-center mr-4">
                                <i class="fas fa-users text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-sm font-semibold text-text-primary">朋友</h3>
                                <p class="text-xs text-text-secondary">与朋友进行日常对话</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 对话场景区域 -->
        <section id="dialogue-scene" class="mx-6 mt-6 hidden">
            <div id="dialogue-scene-content" class="bg-white rounded-card shadow-card p-6">
                <h2 id="dialogue-scene-title" class="text-lg font-semibold text-text-primary mb-4">对话场景</h2>
                
                <div id="scene-description" class="bg-gray-50 rounded-lg p-4 mb-6">
                    <p id="scene-desc-text" class="text-sm text-text-primary">你正在一家餐厅，想要点餐。请与服务员进行对话。</p>
                </div>
                
                <button id="start-dialogue-btn" class="w-full bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-lg font-semibold">
                    开始对话
                </button>
            </div>
        </section>

        <!-- 对话进行区域 -->
        <section id="dialogue-area" class="mx-6 mt-6 hidden">
            <!-- 对话消息列表 -->
            <div id="dialogue-messages" class="bg-white rounded-card shadow-card p-4 mb-4 max-h-96 overflow-y-auto">
                <!-- AI消息 -->
                <div id="ai-message-1" class="flex items-start mb-4 fade-in">
                    <div class="w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fas fa-robot text-white text-xs"></i>
                    </div>
                    <div class="flex-1">
                        <div class="ai-bubble text-white px-4 py-2 rounded-2xl rounded-tl-lg">
                            <p class="text-sm">Hello! Welcome to our restaurant. How can I help you today?</p>
                        </div>
                        <p class="text-xs text-text-secondary mt-1">AI助手</p>
                    </div>
                </div>

                <!-- 用户消息 -->
                <div id="user-message-1" class="flex items-start mb-4 justify-end fade-in">
                    <div class="flex-1 max-w-xs">
                        <div class="user-bubble text-text-primary px-4 py-2 rounded-2xl rounded-tr-lg">
                            <p class="text-sm">I'd like to order some food, please.</p>
                        </div>
                        <p class="text-xs text-text-secondary mt-1 text-right">你</p>
                    </div>
                    <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center ml-3 flex-shrink-0">
                        <i class="fas fa-user text-gray-600 text-xs"></i>
                    </div>
                </div>

                <!-- AI回复 -->
                <div id="ai-message-2" class="flex items-start mb-4 fade-in">
                    <div class="w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fas fa-robot text-white text-xs"></i>
                    </div>
                    <div class="flex-1">
                        <div class="ai-bubble text-white px-4 py-2 rounded-2xl rounded-tl-lg">
                            <p class="text-sm">Great! What would you like to order?</p>
                        </div>
                        <p class="text-xs text-text-secondary mt-1">AI助手</p>
                    </div>
                </div>

                <!-- AI正在输入指示器 -->
                <div id="typing-indicator" class="flex items-start mb-4 hidden">
                    <div class="w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fas fa-robot text-white text-xs"></i>
                    </div>
                    <div class="flex-1">
                        <div class="ai-bubble text-white px-4 py-2 rounded-2xl rounded-tl-lg">
                            <div class="typing-indicator">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                        <p class="text-xs text-text-secondary mt-1">AI助手正在思考...</p>
                    </div>
                </div>
            </div>

            <!-- 语音输入区域 -->
            <div id="voice-input-area" class="bg-white rounded-card shadow-card p-4">
                <div id="voice-input-content" class="flex items-center justify-center">
                    <button id="voice-record-btn" class="w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center text-white shadow-lg">
                        <i class="fas fa-microphone text-xl"></i>
                    </button>
                </div>
                <p id="voice-input-text" class="text-center text-sm text-text-secondary mt-3">点击麦克风开始说话</p>
            </div>
        </section>

        <!-- 对话分析报告区域 -->
        <section id="dialogue-analysis" class="mx-6 mt-6 hidden">
            <div id="analysis-content" class="bg-white rounded-card shadow-card p-6">
                <h2 id="analysis-title" class="text-lg font-semibold text-text-primary mb-4">对话分析报告</h2>
                
                <!-- 语法评估 -->
                <div id="grammar-assessment" class="mb-4">
                    <h3 class="text-sm font-semibold text-text-primary mb-2">语法评估</h3>
                    <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                        <p class="text-sm text-green-700">
                            <i class="fas fa-check-circle mr-2"></i>
                            语法使用恰当，表达清晰
                        </p>
                    </div>
                </div>

                <!-- 短语使用评估 -->
                <div id="phrase-assessment" class="mb-4">
                    <h3 class="text-sm font-semibold text-text-primary mb-2">短语使用评估</h3>
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3">
                        <p class="text-sm text-yellow-700">
                            <i class="fas fa-exclamation-circle mr-2"></i>
                            "I'd like to order" 使用正确，可以尝试更多表达方式
                        </p>
                    </div>
                </div>

                <!-- 优化建议 -->
                <div id="improvement-suggestions" class="mb-4">
                    <h3 class="text-sm font-semibold text-text-primary mb-2">优化建议</h3>
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                        <p class="text-sm text-blue-700 mb-2">
                            <i class="fas fa-lightbulb mr-2"></i>
                            可以使用更礼貌的表达：
                        </p>
                        <p class="text-sm text-blue-600">"Could I please see the menu?"</p>
                    </div>
                </div>

                <!-- 延伸学习短语 -->
                <div id="extension-phrases" class="mb-6">
                    <h3 class="text-sm font-semibold text-text-primary mb-2">延伸学习短语</h3>
                    <div class="space-y-2">
                        <div class="bg-gray-50 rounded-lg p-3">
                            <p class="text-sm font-medium text-text-primary">Could I have the bill, please?</p>
                            <p class="text-xs text-text-secondary">请给我账单好吗？</p>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-3">
                            <p class="text-sm font-medium text-text-primary">What's today's special?</p>
                            <p class="text-xs text-text-secondary">今天有什么特色菜？</p>
                        </div>
                    </div>
                </div>

                <div id="analysis-actions" class="flex space-x-3">
                    <button id="continue-dialogue-btn" class="flex-1 bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-lg font-semibold">
                        继续对话
                    </button>
                    <button id="end-dialogue-btn" class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-semibold">
                        结束对话
                    </button>
                </div>
            </div>
        </section>
    </div>

    <!-- 底部导航栏 -->
    <nav id="bottom-nav" class="fixed bottom-0 left-0 right-0 bg-white border-t border-border-light flex justify-around items-center h-16 px-2 safe-bottom z-40">
        <a id="nav-home" href="#" class="flex flex-col items-center p-2 text-text-secondary">
            <i class="fas fa-home text-xl"></i>
            <span class="text-xs mt-0.5">首页</span>
        </a>
        <a id="nav-library" href="#" class="flex flex-col items-center p-2 text-text-secondary">
            <i class="fas fa-book text-xl"></i>
            <span class="text-xs mt-0.5">短语库</span>
        </a>
        <a id="nav-dialogue" href="#" class="flex flex-col items-center p-2 text-primary">
            <i class="fas fa-comments text-xl"></i>
            <span class="text-xs mt-0.5 font-medium">对话</span>
        </a>
        <a id="nav-profile" href="#" class="flex flex-col items-center p-2 text-text-secondary">
            <i class="fas fa-user text-xl"></i>
            <span class="text-xs mt-0.5">我的</span>
        </a>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let currentStep = 'scene-selection'; // scene-selection, role-selection, dialogue-scene, dialogue-area, dialogue-analysis
            let selectedScene = '';
            let selectedRole = '';
            let isRecording = false;

            // 返回按钮
            document.querySelector('#back-btn').addEventListener('click', function() {
                if (currentStep === 'scene-selection') {
                    window.location.href = 'P-HOME.html';
                } else if (currentStep === 'role-selection') {
                    showSceneSelection();
                } else if (currentStep === 'dialogue-scene') {
                    showRoleSelection();
                } else if (currentStep === 'dialogue-area') {
                    showDialogueScene();
                } else if (currentStep === 'dialogue-analysis') {
                    showDialogueArea();
                }
            });

            // 保存对话按钮
            document.querySelector('#save-dialogue-btn').addEventListener('click', function() {
                console.log('保存对话功能需要调用第三方API实现');
                // 显示保存成功提示
                const btn = this;
                const originalIcon = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check text-green-600"></i>';
                setTimeout(() => {
                    btn.innerHTML = originalIcon;
                }, 2000);
            });

            // 场景选择
            const sceneItems = document.querySelectorAll('[data-scene]');
            sceneItems.forEach(item => {
                item.addEventListener('click', function() {
                    selectedScene = this.dataset.scene;
                    showRoleSelection();
                });
            });

            // 角色选择
            const roleItems = document.querySelectorAll('[data-role]');
            roleItems.forEach(item => {
                item.addEventListener('click', function() {
                    selectedRole = this.dataset.role;
                    showDialogueScene();
                });
            });

            // 开始对话按钮
            document.querySelector('#start-dialogue-btn').addEventListener('click', function() {
                showDialogueArea();
            });

            // 语音录制按钮
            document.querySelector('#voice-record-btn').addEventListener('click', function() {
                if (!isRecording) {
                    startRecording();
                } else {
                    stopRecording();
                }
            });

            // 继续对话按钮
            document.querySelector('#continue-dialogue-btn').addEventListener('click', function() {
                showDialogueArea();
            });

            // 结束对话按钮
            document.querySelector('#end-dialogue-btn').addEventListener('click', function() {
                showSceneSelection();
            });

            // 底部导航栏
            document.querySelector('#nav-home').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-HOME.html';
            });

            document.querySelector('#nav-library').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-PHRASE_LIBRARY.html';
            });

            document.querySelector('#nav-dialogue').addEventListener('click', function(e) {
                e.preventDefault();
                // 已在对话页面，无需操作
            });

            document.querySelector('#nav-profile').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-USER_PROFILE.html';
            });

            // 显示场景选择
            function showSceneSelection() {
                hideAllSections();
                document.querySelector('#scene-selection').classList.remove('hidden');
                currentStep = 'scene-selection';
                updateHeaderTitle('对话练习');
            }

            // 显示角色选择
            function showRoleSelection() {
                hideAllSections();
                document.querySelector('#role-selection').classList.remove('hidden');
                currentStep = 'role-selection';
                updateHeaderTitle('选择角色');
            }

            // 显示对话场景
            function showDialogueScene() {
                hideAllSections();
                document.querySelector('#dialogue-scene').classList.remove('hidden');
                currentStep = 'dialogue-scene';
                updateHeaderTitle('对话场景');
                
                // 更新场景描述
                updateSceneDescription();
            }

            // 显示对话区域
            function showDialogueArea() {
                hideAllSections();
                document.querySelector('#dialogue-area').classList.remove('hidden');
                currentStep = 'dialogue-area';
                updateHeaderTitle('正在对话');
            }

            // 显示对话分析
            function showDialogueAnalysis() {
                hideAllSections();
                document.querySelector('#dialogue-analysis').classList.remove('hidden');
                currentStep = 'dialogue-analysis';
                updateHeaderTitle('对话分析');
            }

            // 隐藏所有区域
            function hideAllSections() {
                document.querySelector('#scene-selection').classList.add('hidden');
                document.querySelector('#role-selection').classList.add('hidden');
                document.querySelector('#dialogue-scene').classList.add('hidden');
                document.querySelector('#dialogue-area').classList.add('hidden');
                document.querySelector('#dialogue-analysis').classList.add('hidden');
            }

            // 更新头部标题
            function updateHeaderTitle(title) {
                document.querySelector('#page-title').textContent = title;
            }

            // 更新场景描述
            function updateSceneDescription() {
                const sceneDesc = document.querySelector('#scene-desc-text');
                const sceneDescriptions = {
                    'daily': '你在咖啡厅遇到了朋友，请进行日常问候对话。',
                    'shopping': '你正在一家服装店购物，想要询问商品信息。',
                    'restaurant': '你正在一家餐厅，想要点餐。请与服务员进行对话。',
                    'travel': '你在机场办理登机手续，请与工作人员对话。'
                };
                
                sceneDesc.textContent = sceneDescriptions[selectedScene] || '请开始对话练习。';
            }

            // 开始录音
            function startRecording() {
                console.log('需要调用第三方API实现语音录制功能');
                isRecording = true;
                const btn = document.querySelector('#voice-record-btn');
                const text = document.querySelector('#voice-input-text');
                
                btn.classList.add('recording-animation');
                btn.innerHTML = '<i class="fas fa-stop text-xl"></i>';
                text.textContent = '正在录音...';
                
                // 模拟录音过程
                setTimeout(() => {
                    stopRecording();
                    // 模拟AI回复
                    showAITyping();
                    setTimeout(() => {
                        addAIMessage("That sounds great! I'll get your order right away.");
                        hideAITyping();
                    }, 2000);
                }, 3000);
            }

            // 停止录音
            function stopRecording() {
                isRecording = false;
                const btn = document.querySelector('#voice-record-btn');
                const text = document.querySelector('#voice-input-text');
                
                btn.classList.remove('recording-animation');
                btn.innerHTML = '<i class="fas fa-microphone text-xl"></i>';
                text.textContent = '点击麦克风开始说话';
                
                // 模拟添加用户消息
                addUserMessage("I'll have the steak, please.");
            }

            // 显示AI正在输入
            function showAITyping() {
                document.querySelector('#typing-indicator').classList.remove('hidden');
            }

            // 隐藏AI正在输入
            function hideAITyping() {
                document.querySelector('#typing-indicator').classList.add('hidden');
            }

            // 添加AI消息
            function addAIMessage(message) {
                const messagesContainer = document.querySelector('#dialogue-messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'flex items-start mb-4 fade-in';
                messageDiv.innerHTML = `
                    <div class="w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fas fa-robot text-white text-xs"></i>
                    </div>
                    <div class="flex-1">
                        <div class="ai-bubble text-white px-4 py-2 rounded-2xl rounded-tl-lg">
                            <p class="text-sm">${message}</p>
                        </div>
                        <p class="text-xs text-text-secondary mt-1">AI助手</p>
                    </div>
                `;
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            // 添加用户消息
            function addUserMessage(message) {
                const messagesContainer = document.querySelector('#dialogue-messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'flex items-start mb-4 justify-end fade-in';
                messageDiv.innerHTML = `
                    <div class="flex-1 max-w-xs">
                        <div class="user-bubble text-text-primary px-4 py-2 rounded-2xl rounded-tr-lg">
                            <p class="text-sm">${message}</p>
                        </div>
                        <p class="text-xs text-text-secondary mt-1 text-right">你</p>
                    </div>
                    <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center ml-3 flex-shrink-0">
                        <i class="fas fa-user text-gray-600 text-xs"></i>
                    </div>
                `;
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            // 卡片点击效果
            const cards = document.querySelectorAll('.card-hover');
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'translateY(-2px)';
                    }, 100);
                });
            });
        });
    </script>
</body>
</html>